<?xml version="1.0"?>

<project name="build.ant4eclipse"
         basedir=".."
         default="build.ant4eclipse"
         xmlns:ant4eclipse="antlib:org.ant4eclipse">

	<taskdef resource="org/tigris/subversion/svnant/svnantlib.xml" />

	<taskdef uri="antlib:org.ant4eclipse"
	         resource="org/ant4eclipse/antlib.xml"
	         classpath="${basedir}\org.ant4eclipse.core\bin;${basedir}\org.ant4eclipse.platform\bin;${basedir}\org.ant4eclipse.jdt\bin;" />

	<property file="${basedir}\org.ant4eclipse.build\svn-pwd.properties" />

	<!--  -->
	<property name="destination"
	          value="${basedir}\org.ant4eclipse.build\destination" />

	<!-- define your jdk location here -->
	<ant4eclipse:jreContainer>
		<jre id="jdk15" location="R:\ref\jdk_15" />
	</ant4eclipse:jreContainer>

	<target name="build.ant4eclipse">

		<!-- <delete dir="${destination}" quiet="true" />
		<mkdir dir="${destination}" />

		<ant4eclipse:svnGetProjectSet username="${svn.username}"
									  password="${svn.password}"
		                              command="export"
		                              projectSet="${basedir}/org.ant4eclipse.build/projectSet.psf"
		                              destination="${destination}" /> -->

		<!-- <ant4eclipse:executeProjectSet workspace="${destination}"
		                               teamprojectset="${basedir}/org.ant4eclipse.build/projectSet.psf"> -->

		<ant4eclipse:executeProjectSet workspace="${destination}"
		                               projectNames="org.ant4eclipse.core,org.ant4eclipse.core.test,org.ant4eclipse.external, org.ant4eclipse.external.test,org.ant4eclipse.jdt,org.ant4eclipse.jdt.test,org.ant4eclipse.platform,org.ant4eclipse.platform.test">

			<ant4eclipse:forEachProject>

				<ant4eclipse:executeJdtProject workspace="${destination}"
				                               projectname="${executeProjectSet.project.name}">

					<ant4eclipse:forEachOutputDirectory>
						<delete dir="${executeJdtProject.project.directory}/${executeJdtProject.output.directory}"
						        quiet="true" />
						<mkdir dir="${executeJdtProject.project.directory}/${executeJdtProject.output.directory}" />
					</ant4eclipse:forEachOutputDirectory>

					<!-- <ant4eclipse:forEachSourceDirectory>
						  <javac srcdir="${src}"
						         destdir="${build}"
						         classpath="xyz.jar"
						         debug="on"
						         source="1.4"
						  />
						<echo>${executeProjectSet.project.name}</echo>
						<echo>Source: ${executeJdtProject.source.directory}</echo>
						<echo>${executeJdtProject.classpath.relative.runtime}</echo>
						<echo>${executeJdtProject.classpath.absolute.runtime}</echo>
						<echo>${executeJdtProject.classpath.relative.compiletime}</echo>
						<echo>${executeJdtProject.classpath.absolute.compiletime}</echo>

					</ant4eclipse:forEachSourceDirectory> -->

					<ant4eclipse:forAllSourceDirectories>

					</ant4eclipse:forAllSourceDirectories>

				</ant4eclipse:executeJdtProject>

			</ant4eclipse:forEachProject>

		</ant4eclipse:executeProjectSet>

	</target>

</project>